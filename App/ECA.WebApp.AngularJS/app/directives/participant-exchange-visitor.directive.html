<div class="row row2">
    <div class="col-md-5"><h5>Position and Field</h5></div>
    <div class="col-md-7">
        <a ng-click="view.PositionAndField=!view.PositionAndField">
            <i class="material-icons md-dark md-36 pull-right" ng-show="view.PositionAndField">expand_more</i>
            <i class="material-icons md-dark md-36 pull-right" ng-show="!view.PositionAndField">expand_less</i>
         </a>
        <a ng-click="edit.onPositionAndFieldEditChange()">
            <i class="material-icons md-dark md-24 pull-right" ng-show="view.PositionAndField && !view.PositionAndFieldEdit">edit</i>
        </a>
        <div class="pull-right" ng-if="view.PositionAndFieldEdit" ng-show="view.PositionAndField">
            <button ng-click="savePositionAndField()" class="btn btn-success" ng-disabled="formPositionAndFieldForm.$invalid || formPositionAndFieldForm.$pristine">Save</button>
            <button ng-click="view.PositionAndFieldEdit=false" class="btn btn-cancel">Cancel</button>
        </div>
    </div>
</div>
<div ng-if="!view.PositionAndFieldEdit">
    <div class="row row2" ng-show="view.PositionAndField">
        <div class="row4">
            <div class="col-md-3">
                <label class="title-label">Position</label>
            </div>
            <div class="col-md-6">
                {{exchangevisitorinfo.position}}
            </div>
            <div class="col-md-3">
                <i class="material-icons md-dark md-36 pull-right">group</i>
                <i class="material-icons md-dark md-36 pull-right">add</i>
            </div>
        </div>
        <div class="row4">
            <div class="col-md-3">
                <label class="title-label">Program Category</label>
            </div>
            <div class="col-md-6">
                {{exchangevisitorinfo.programCategory}}
            </div>
            <div class="col-md-3">
                <i class="material-icons md-dark md-36 pull-right">group</i>
                <i class="material-icons md-dark md-36 pull-right">add</i>
            </div>
        </div>
        <div class="row4">
            <div class="col-md-3">
                <label class="title-label">Field Of Study</label>
            </div>
            <div class="col-md-6">
                {{exchangevisitorinfo.fieldOfStudy}}
            </div>
            <div class="col-md-3">
                <i class="material-icons md-dark md-36 pull-right">group</i>
                <i class="material-icons md-dark md-36 pull-right">add</i>
            </div>
        </div>
    </div>
</div>
<div ng-if="view.PositionAndFieldEdit">
    <form name="formPositionAndFieldForm" ng-show="view.PositionAndField">
        <div class="row row4">
            <div class="col-md-3">
                <label class="title-label">Position<span class="asterisk"> *</span></label>
            </div>
            <div class="col-md-6">
                <ui-select ng-model="exchangevisitorinfo.positionId" theme="select2" tabindex="1" ng-required="true">
                    <ui-select-match placeholder="Select a position...">{{$select.selected.description}}</ui-select-match>
                    <ui-select-choices repeat="position.id as position in edit.positions | filter: {description: $select.search} track by position.id">
                        <div ng-bind-html="position.description | highlight: $select.search"></div>
                    </ui-select-choices>
                </ui-select>
            </div>
            <div class="col-md-3">
                <i class="material-icons md-dark md-36 pull-right">group</i>
                <i class="material-icons md-dark md-36 pull-right">add</i>
            </div>
        </div>
        <div class="row row4">
            <div class="col-md-3">
                <label class="title-label">Program Category<span class="asterisk"> *</span></label>
            </div>
            <div class="col-md-6">
                <ui-select ng-model="exchangevisitorinfo.programCategoryId" theme="select2" tabindex="1" ng-required="true">
                    <ui-select-match placeholder="Select a program category...">{{$select.selected.description}}</ui-select-match>
                    <ui-select-choices repeat="programCategory.id as programCategory in edit.programCategories | filter: {description: $select.search} track by programCategory.id">
                        <div ng-bind-html="programCategory.description | highlight: $select.search"></div>
                    </ui-select-choices>
                </ui-select>
            </div>
            <div class="col-md-3">
                <i class="material-icons md-dark md-36 pull-right">group</i>
                <i class="material-icons md-dark md-36 pull-right">add</i>
            </div>
        </div>
        <div class="row row4">
            <div class="col-md-3">
                <label class="title-label">Field Of Study<span class="asterisk"> *</span></label>
            </div>
            <div class="col-md-6">
                <ui-select ng-model="exchangevisitorinfo.fieldOfStudyId" theme="select2" tabindex="1" ng-required="true">
                    <ui-select-match placeholder="Select a field of study...">{{$select.selected.description}}</ui-select-match>
                    <ui-select-choices refresh="edit.searchFieldOfStudies($select.search)" refresh-delay="250" repeat="fieldOfStudy.id as fieldOfStudy in edit.fieldOfStudies | filter: {description: $select.search} track by fieldOfStudy.id">
                        <div ng-bind-html="fieldOfStudy.description | highlight: $select.search"></div>
                    </ui-select-choices> <!--required-->
                </ui-select>
            </div>
            <div class="col-md-3">
                <i class="material-icons md-dark md-36 pull-right">group</i>
                <i class="material-icons md-dark md-36 pull-right">add</i>
            </div>
        </div>
    </form>
</div>
<div class="row row2">
    <div class="col-md-5"><h5>Funding</h5></div>
    <div class="col-md-7">
        <a ng-click="view.Funding=!view.Funding">
            <i class="material-icons md-dark md-36 pull-right" ng-show="view.Funding">expand_more</i>
            <i class="material-icons md-dark md-36 pull-right" ng-show="!view.Funding">expand_less</i>
        </a>
        <a ng-click="edit.onFundingEditChange()">
            <i class="material-icons md-dark md-24 pull-right" ng-show="view.Funding && !view.FundingEdit">edit</i>
        </a>
        <div class="pull-right" ng-if="view.FundingEdit" ng-show="view.Funding">
                <button ng-click="saveFunding()" class="btn btn-success" ng-disabled="fundingEditForm.$invalid || fundingEditForm.$pristine">Save</button>
                <button ng-click="view.FundingEdit=false" class="btn btn-cancel">Cancel</button>
        </div>
    </div>
</div>
    <div ng-if="!view.FundingEdit">
        <div ng-show="view.Funding" class="row row2">
            <div class="row row4">
                <div class="col-md-3">
                    <label class="title-label">Sponsor</label>
                </div>
                <div class="col-md-6 text-right">
                    $
                </div>
                <div class="col-md-1 text-right">
                    {{exchangevisitorinfo.fundingSponsor | number:0}}
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-3">
                    <label class="title-label">Personal</label>
                </div>
                <div class="col-md-6 text-right">
                    $
                </div>
                <div class="col-md-1 text-right">
                    {{exchangevisitorinfo.fundingPersonal | number:0}}
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-3">
                    <label class="title-label">Vis. Gov't</label>
                </div>
                <div class="col-md-6 text-right">
                    $
                </div>
                <div class="col-md-1 text-right">
                    {{exchangevisitorinfo.fundingVisGovt | number:0}}
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-3">
                    <label class="title-label">Vis.BNC</label>
                </div>
                <div class="col-md-6 text-right">
                    $
                </div>
                <div class="col-md-1 text-right">
                    {{exchangevisitorinfo.fundingVisBNC | number:0}}
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-3">
                    &nbsp;
                </div>
                <div class="col-md-3">
                     <span class="title-label">Name</span>
                </div>
                <div class="col-md-3">
                    <span class="title-label">Other Name</span>
                </div>
                <div class="col-md-1">
                    &nbsp;
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-3">
                    <label class="title-label">Gov't Agency 1</label>
                </div>
                <div class="col-md-3">
                    {{exchangevisitorinfo.govtAgency1Name}}
                </div>
                <div class="col-md-2">
                    {{exchangevisitorinfo.govtAgency1OtherName}}
                </div>
                <div class="col-md-1 text-right">
                    $
                </div>
                <div class="col-md-1 text-right">
                    {{exchangevisitorinfo.fundingGovtAgency1 | number:0}}
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-3">
                    <label class="title-label">Gov't Agency 2</label>
                </div>
                <div class="col-md-3">
                    {{exchangevisitorinfo.govtAgency2Name}}
                </div>
                <div class="col-md-2">
                    {{exchangevisitorinfo.govtAgency2OtherName}}
                </div>
                <div class="col-md-1 text-right">
                    $
                </div>
                <div class="col-md-1 text-right">
                    {{exchangevisitorinfo.fundingGovtAgency2 | number:0}}
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-3">
                    <label class="title-label">Int'l Org 1</label>
                </div>
                <div class="col-md-3">
                    {{exchangevisitorinfo.intlOrg1Name}}
                </div>
                <div class="col-md-2">
                    {{exchangevisitorinfo.intlOrg1OtherName}}
                </div>
                <div class="col-md-1 text-right">
                    $
                </div>
                <div class="col-md-1 text-right">
                    {{exchangevisitorinfo.fundingIntlOrg1 | number:0}}
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-3">
                    <label class="title-label">Int'l Org 2</label>
                </div>
                <div class="col-md-3">
                    {{exchangevisitorinfo.intlOrg2Name}}
                </div>
                <div class="col-md-2">
                    {{exchangevisitorinfo.intlOrg2OtherName}}
                </div>
                <div class="col-md-1 text-right">
                    $
                </div>
                <div class="col-md-1 text-right">
                    {{exchangevisitorinfo.fundingIntlOrg2 | number:0}}
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-3">
                    <label class="title-label">Other Org.</label>
                </div>
                <div class="col-md-3">
                    &nbsp;
                </div>
                <div class="col-md-2">
                    {{exchangevisitorinfo.otherName}}
                </div>
                <div class="col-md-1 text-right">
                    $
                </div>
                <div class="col-md-1 text-right">
                    {{exchangevisitorinfo.fundingOther | number:0}}
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-3">
                    <label class="title-label">Total</label>
                </div>
                <div class="col-md-6 text-right">
                    $
                </div>
                <div class="col-md-1 text-right">
                    {{exchangevisitorinfo.fundingSponsor + exchangevisitorinfo.fundingPersonal + exchangevisitorinfo.fundingVisGovt + exchangevisitorinfo.fundingVisBNC + exchangevisitorinfo.fundingGovtAgency1 + exchangevisitorinfo.fundingGovtAgency2 + exchangevisitorinfo.fundingIntlOrg1 + exchangevisitorinfo.fundingIntlOrg2 + exchangevisitorinfo.fundingOther  | number:0}}
                </div>
            </div>
        </div>
    </div>
    <div ng-if="view.FundingEdit">
        <form name="fundingEditForm" class="row row2" ng-show="view.Funding">
            <div class="row row4">
                <div class="col-md-2">
                    <label class="title-label">Sponsor</label>
                </div>
                <div class="col-md-7 text-right">
                    $
                </div>
                <div class="col-md-2 text-right">
                    <input type="number" min="0" ng-model="exchangevisitorinfo.fundingSponsor" />
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-2">
                    <label class="title-label">Personal</label>
                </div>
                <div class="col-md-7 text-right">
                    $
                </div>
                <div class="col-md-2 text-right">
                    <input type="number" min="0" ng-model="exchangevisitorinfo.fundingPersonal" />
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-2">
                    <label class="title-label">Vis. Gov't</label>
                </div>
                <div class="col-md-7 text-right">
                    $
                </div>
                <div class="col-md-2 text-right">
                    <input type="number" min="0" ng-model="exchangevisitorinfo.fundingVisGovt" />
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-2">
                    <label class="title-label">Vis.BNC</label>
                </div>
                <div class="col-md-7 text-right">
                    $
                </div>
                <div class="col-md-2 text-right">
                    <input type="number" min="0" ng-model="exchangevisitorinfo.fundingVisBNC" />
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-2">
                    <label class="title-label">Gov't Agency 1</label>
                </div>
                <div class="col-md-3">
                    <ui-select ng-model="exchangevisitorinfo.govtAgency1Id" theme="select2" tabindex="1" ng-required="true" on-select="onGovtAgency1Select($item)">
                        <ui-select-match placeholder="Select a US Government Agency...">{{$select.selected.description}}</ui-select-match>
                        <ui-select-choices repeat="usGovernmentAgency.id as usGovernmentAgency in edit.usGovernmentAgencies | filter: {description: $select.search} track by usGovernmentAgency.id">
                            <div ng-bind-html="usGovernmentAgency.description | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                </div>
                <div class="col-md-3">
                    <input type="text" maxlength="60" ng-model="exchangevisitorinfo.govtAgency1OtherName" ng-show="view.GovtAgency1Other"/>
                </div>
                <div class="col-md-1 text-right">
                    $
                </div>
                <div class="col-md-2 text-right">
                    <input type="number" min="0" ng-model="exchangevisitorinfo.fundingGovtAgency1" />
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-2">
                    <label class="title-label">Gov't Agency 2</label>
                </div>
                <div class="col-md-3">
                    <ui-select ng-model="exchangevisitorinfo.govtAgency2Id" theme="select2" tabindex="1" ng-required="true" on-select="onGovtAgency2Select($item)">
                        <ui-select-match placeholder="Select a US Government Agency...">{{$select.selected.description}}</ui-select-match>
                        <ui-select-choices repeat="usGovernmentAgency.id as usGovernmentAgency in edit.usGovernmentAgencies | filter: {description: $select.search} track by usGovernmentAgency.id">
                            <div ng-bind-html="usGovernmentAgency.description | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                </div>
                <div class="col-md-3">
                    <input type="text" maxlength="60" ng-model="exchangevisitorinfo.govtAgency2OtherName" ng-show="view.GovtAgency2Other"/>
                </div>
                <div class="col-md-1 text-right">
                    $
                </div>
                <div class="col-md-2 text-right">
                    <input type="number" min="0" ng-model="exchangevisitorinfo.fundingGovtAgency2" />
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-2">
                    <label class="title-label">Int'l Org 1</label>
                </div>
                <div class="col-md-3">
                    <ui-select ng-model="exchangevisitorinfo.intlOrg1Id" theme="select2" tabindex="1" ng-required="true" on-select="onIntlOrg1Select($item)">
                        <ui-select-match placeholder="Select an International Organization...">{{$select.selected.description}}</ui-select-match>
                        <ui-select-choices repeat="internationalOrganization.id as internationalOrganization in edit.internationalOrganizations | filter: {description: $select.search} track by internationalOrganization.id">
                            <div ng-bind-html="internationalOrganization.description | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                </div>
                <div class="col-md-3">
                    <input type="text" maxlength="60" ng-model="exchangevisitorinfo.intlOrg1OtherName" ng-show="view.IntlOrg1Other" />
                </div>
                <div class="col-md-1 text-right">
                    $
                </div>
                <div class="col-md-2 text-right">
                    <input type="number" min="0" ng-model="exchangevisitorinfo.fundingIntlOrg1" />
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-2">
                    <label class="title-label">Int'l Org 2</label>
                </div>
                <div class="col-md-3">
                    <ui-select ng-model="exchangevisitorinfo.intlOrg2Id" theme="select2" tabindex="1" ng-required="true" on-select="onIntlOrg2Select($item)">
                        <ui-select-match placeholder="Select an International Organization...">{{$select.selected.description}}</ui-select-match>
                        <ui-select-choices repeat="internationalOrganization.id as internationalOrganization in edit.internationalOrganizations | filter: {description: $select.search} track by internationalOrganization.id">
                            <div ng-bind-html="internationalOrganization.description | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                </div>
                <div class="col-md-3">
                    <input type="text" maxlength="60" ng-model="exchangevisitorinfo.intlOrg2OtherName" ng-show="view.IntlOrg2Other" />
                </div>
                <div class="col-md-1 text-right">
                    $
                </div>
                <div class="col-md-2 text-right">
                    <input type="number" min="0" ng-model="exchangevisitorinfo.fundingIntlOrg2" />
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-2">
                    <label class="title-label">Other Org.</label>
                </div>
                <div class="col-md-3">
                    <input type="text" maxlength="60" ng-model="exchangevisitorinfo.otherName" style="width:230px" /> <!--required-->
                </div>
                <div class="col-md-3">
                    
                </div>
                <div class="col-md-1 text-right">
                    $
                </div>
                <div class="col-md-2 text-right">
                    <input type="number" min="0" ng-model="exchangevisitorinfo.fundingOther" /> <!--required-->
                </div>
            </div>
            <div class="row row4">
                <div class="col-md-2">
                    <label class="title-label">Total</label>
                </div>
                <div class="col-md-7 text-right">
                    $
                </div>
                <div class="col-md-2 text-right">
                    {{exchangevisitorinfo.fundingSponsor + exchangevisitorinfo.fundingPersonal + exchangevisitorinfo.fundingVisGovt + exchangevisitorinfo.fundingVisBNC + exchangevisitorinfo.fundingGovtAgency1 + exchangevisitorinfo.fundingGovtAgency2 + exchangevisitorinfo.fundingIntlOrg1 + exchangevisitorinfo.fundingIntlOrg2 + exchangevisitorinfo.fundingOther  | number:0}}
                </div>
            </div>
        </form>
    </div>
