<div class="modal-header search-modal-header">
    <div class="form-group">
        <input type="search"
               ng-disabled="isLoadingRequiredData"
               ng-model="text"
               placeholder="Spotlight search"
               class="input-lg form-control col-md-12"
               style="font-weight: 500"
               autofocus
               ng-change="autocomplete()"
               ng-model-options="{debounce: 500}"
               submit-required="true" />
        <i class="material-icons md-18 contextual" style="top:12px" ng-show="!isLoadingResults">search</i>
        <i class="material-icons md-18 contextual material-icons-spin contextual-busy" style="top:12px;left:0px;" ng-show="isLoadingResults">autorenew</i>
    </div>
</div>
<div class="modal-body">
    <div class="search-result-wrapper">
        <div class="search-result-container">
            <div class="row">
                <div class="col-md-8" style="overflow: auto; max-height: 700px;">
                    <div class="spinner" ng-show="view.isLoadingResults">
                        <div class="bounce1"></div>
                        <div class="bounce2"></div>
                        <div class="bounce3"></div>
                    </div>
                    <div class="row-fluid" ng-show="tophitinfo.length > 0">
                        <div class="col-md-2 col-sm-3 text-right">
                            <span><strong>TOP HIT</strong></span>
                        </div>
                        <div class="col-md-10 col-sm-9 search-results">
                            <div class="row" ng-class="tophitinfo[0].document.id === docinfo.document.id ? 'resultrow-selected' : 'resultrow'">
                                <div class="col-md-1 col-sm-1 text-center">
                                    <div class="resulticon {{tophitinfo[0].document.documentTypeName | lowercase}}">{{tophitinfo[0].document.documentTypeNameAbbreviation}}</div>
                                </div>
                                <div class="col-md-9 col-sm-8">
                                    <a ng-click="GetDocumentInfo(tophitinfo[0])" ng-bind-html="tophitinfo[0].document.name"></a>
                                </div>
                                <div class="col-md-2 col-sm-3 resultoffice" ng-bind-html="tophitinfo[0].document.officeSymbol"></div>
                            </div>
                        </div>
                    </div>
                    <div ng-repeat="docitem in results" class="row-fluid">
                        <div class="col-md-2 col-sm-3 text-right">
                            <span ng-show="CreateHeader(docitem.document.documentTypeName, $index)">
                                <strong>{{currentGroup | uppercase}}</strong>
                            </span>
                        </div>
                        <div class="col-md-10 col-sm-9 search-results">
                            <div class="row" ng-class="docitem.document.id === docinfo.id ? 'resultrow-selected' : 'resultrow'">
                                <div class="col-md-1 col-sm-1 text-center">
                                    <div class="resulticon {{docitem.document.documentTypeName | lowercase}}">{{docitem.document.documentTypeNameAbbreviation}}</div>
                                </div>
                                <div class="col-md-9 col-sm-8">
                                    <a ng-click="GetDocumentInfo(docitem)" ng-bind-html="docitem.document.name"></a>
                                </div>
                                <div class="col-md-2 col-sm-3 resultoffice" ng-bind-html="docitem.document.officeSymbol"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4" style="overflow: auto; max-height: 700px;">
                    <ng-include src="'/app/search/search-info.html'"></ng-include>
                </div>
            </div>
            <nav class="text-center" ng-show="totalPages > 1">
                <ul class="pagination">
                    <li ng-show="currentPage > 0"><a ng-click="selectPage(0)"><i class="material-icons">arrow_back</i> First</a></li>
                    <li ng-show="currentPage > numberOfDisplayedPages"><a ng-click="selectPage(currentPage - numberOfDisplayedPages)"><i class="material-icons">more_horiz</i></a></li>
                    <li ng-show="currentPage > 0"><a ng-click="selectPage(currentPage - 1)"><i class="material-icons">arrow_back</i> Previous</a></li>
                    <li ng-repeat="page in pages" ng-class="{active: page == currentPage + 1}"><a ng-click="selectPage(page-1)">{{page}}</a></li>
                    <li ng-show="currentPage < totalPages - 1"><a ng-click="selectPage(currentPage + 1)">Next <i class="material-icons">arrow_forward</i></a></li>
                    <li ng-show="pages[pages.length-1] < totalPages-1"><a ng-click="selectPage(pages[pages.length-1])"><i class="material-icons">more_horiz</i></a></li>
                    <li ng-show="currentPage < totalPages - 1"><a ng-click="selectPage(totalPages - 1)">Last <i class="material-icons">arrow_forward</i></a></li>
                </ul>
            </nav>
        </div>
    </div>
</div>
<div class="modal-footer">
    <div class="pull-left">
        <p ng-show="totalResults > 0 && !isLoadingResults">Showing {{currentParams.Start + 1}} - {{currentParams.Start + count}} of {{totalResults}} results.</p>
        <p ng-show="totalResults === 0 && !isLoadingResults">Found {{totalResults}} results.</p>
    </div>
    <div class="pull-right">
        <button class="btn btn-cancel" ng-click="onCloseSpotlightSearchClick()">Close</button>
    </div>
</div>
