<div class="jumbotron organization">
    <div class="heading">
        <h1>Organizations</h1>
    </div>
</div>
<div class="container">
    <button type="button" class="btn btn-success pull-right" ng-click="addOrganization()">Create Organization</button>
    <h4 class="tab-subheader">Organizations List</h4>
    <p class="subheader listCount">Showing {{start}} - {{end}} of {{total}} organizations</p>
    <div st-pipe="getOrganizations" st-table="organizations" id="sort-list">
        <table class="col-md-12 alt">
            <thead>
                <tr>
                    <th st-sort="'name'" st-sort-default="true" class="col-md-3 sort-label medium">Name</th>
                    <th st-sort="'organizationType'" class="col-md-2 sort-label medium">Type</th>
                    <th class="col-md-2 sort-label medium">Roles</th>
                    <th st-sort="'status'" class="col-md-1 sort-label medium">Status</th>
                    <th st-sort="'location'" class="col-md-2 sort-label medium">Location</th>
                    <th class="col-md-2">&nbsp;</th>
                </tr>
                <tr>
                    <th>
                        <input st-search="'name'" placeholder="" type="search" class="input-lg form-control" />
                    </th>
                    <th>
                        <input st-search="'organizationType'" placeholder="" type="search" class="input-lg form-control" />
                    </th>
                    <th>
                        <ui-select multiple
                                   ui-select-st-search
                                   ui-select-st-search-model-id="id"
                                   ui-select-st-search-property="organizationRoleIds"
                                   ui-select-st-search-comparison-type="containsany"
                                   close-on-select="true"
                                   ng-model="selectedOrganizationRoles"
                                   theme="select2"
                                   append-to-body="true"
                                   title="Choose regions to filter."
                                   style="min-width: 200px;">
                            <ui-select-match placeholder="Select roles to filter...">
                                <div>{{$item.value}}</div>
                            </ui-select-match>
                            <ui-select-choices repeat="role in organizationRoles | filter:$select.search">
                                {{role.value}}
                            </ui-select-choices>
                        </ui-select>
                    </th>
                    <th>
                        <input st-search="'status'" placeholder="" type="search" class="input-lg form-control" />
                    </th>
                    <th>
                        <input st-search="'location'" placeholder="" type="search" class="input-lg form-control" />
                    </th>
                    <th>
                        &nbsp;
                    </th>
                </tr>
            </thead>
            <tbody class="list2">
                <tr class="hover" ng-repeat="organization in organizations" ng-show="!organizationsLoading">
                    <td>
                        <h5><a ng-bind-html="organization.name" ui-sref="organizations.overview({organizationId: organization.organizationId})">{{organization.name}}</a></h5>
                    </td>
                    <td>{{organization.organizationType}}</td>
                    <td>
                        <span ng-repeat="roleName in organization.organizationRoleNames">
                        {{roleName}}{{$last ? '' : ','}}
                        </span>
                    </td>
                    <td>{{organization.status}}</td>
                    <td>{{organization.location}}</td>
                    <td>
                        <img class="icon" src="images/duplicateA.png" alt="">
                        <img class="icon" src="images/editA.png" alt="" ng-click="onEditIconClick(organization)">
                        <img class="icon" src="images/trash.png" alt="">
                    </td>
                </tr>
                <tr ng-show="organizationsLoading">
                    <td colspan="5">
                        <div class="spinner">
                            <div class="bounce1"></div>
                            <div class="bounce2"></div>
                            <div class="bounce3"></div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <div st-template="app/partials/pagination.html" st-pagination="" st-items-by-page="25" st-displayed-pages="10" ng-show="organizations.length > 0"></div>
    </div>
</div>